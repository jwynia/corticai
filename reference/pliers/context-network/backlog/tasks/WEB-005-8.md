# WEB-005-8: Form Templates Library

## Metadata
- **Status:** ready
- **Type:** feature
- **Epic:** web-forms
- **Priority:** medium
- **Size:** medium
- **Estimated Effort:** 3-4 days
- **Created:** 2025-09-30
- **Parent Task:** WEB-005 (archived - oversized)
- **Branch:** feat/WEB-005-8-form-templates-library

## Description
Create a form templates library system that allows users to start from pre-built form templates, save custom forms as templates, and browse/search available templates by category and tags. This accelerates form creation for common use cases.

## Acceptance Criteria
- [ ] Build template browser modal with grid layout
- [ ] Implement category filtering for templates
- [ ] Add search functionality for templates
- [ ] Create "Save as Template" functionality
- [ ] Implement "Load Template" to create new form from template

## Technical Notes
- Templates stored via API (use WEB-003 API client)
- Template should include schema, metadata, and preview thumbnail
- Consider common templates: contact form, survey, registration, etc.
- Loading template should create new form, not overwrite current

## Implementation Approach
```typescript
interface FormTemplate {
  id: string;
  name: string;
  description: string;
  category: string;
  tags: string[];
  thumbnail?: string;
  schema: FormSchema;
  isPublic: boolean;
  createdBy?: string;
}

const FormTemplateLibrary = ({ onSelectTemplate }: { onSelectTemplate: (template: FormTemplate) => void }) => {
  const { data: templates } = useQuery({
    queryKey: ['form-templates'],
    queryFn: () => apiClient.forms.getTemplates()
  });

  const [selectedCategory, setSelectedCategory] = useState<string>('all');
  const [searchQuery, setSearchQuery] = useState('');

  const filteredTemplates = templates?.filter(template => {
    const matchesCategory = selectedCategory === 'all' || template.category === selectedCategory;
    const matchesSearch = template.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         template.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));
    return matchesCategory && matchesSearch;
  });

  return (
    <Dialog>
      <DialogContent className="max-w-4xl">
        <DialogHeader>
          <DialogTitle>Choose a Template</DialogTitle>
        </DialogHeader>

        <div className="template-browser">
          <div className="template-controls">
            <SearchInput
              value={searchQuery}
              onChange={setSearchQuery}
              placeholder="Search templates..."
            />
            <CategoryFilter
              categories={['all', 'contact', 'survey', 'registration', 'feedback']}
              selected={selectedCategory}
              onChange={setSelectedCategory}
            />
          </div>

          <div className="template-grid">
            {filteredTemplates?.map(template => (
              <TemplateCard
                key={template.id}
                template={template}
                onSelect={() => onSelectTemplate(template)}
              />
            ))}
          </div>
        </div>
      </DialogContent>
    </Dialog>
  );
};
```

## Dependencies
- WEB-003: API Client Integration and State Management (API calls)
- WEB-002: Design System and Component Library (dialog, cards)
- WEB-005-1: Form Designer Foundation (template loading)

## Follows After
- WEB-005-3: Form Canvas and Field Management (complete form editing)

## Enables
- Faster form creation workflow
- Sharing of common form patterns

## Testing Strategy
- Unit tests for template filtering and search
- Test template loading creates new form
- Test save as template functionality
- Verify category filtering works
- Test API integration for template CRUD

## Success Metrics
- Users can browse and search templates
- Templates load correctly into designer
- Users can save custom templates
- Category and tag filtering works
- Template preview displays appropriately

## Branch Naming
`feat/WEB-005-8-form-templates-library`