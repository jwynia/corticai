# WEB-005-6: Form Preview Mode

## Metadata
- **Status:** ready
- **Type:** feature
- **Epic:** web-forms
- **Priority:** high
- **Size:** small
- **Estimated Effort:** 2-3 days
- **Created:** 2025-09-30
- **Parent Task:** WEB-005 (archived - oversized)
- **Branch:** feat/WEB-005-6-form-preview-mode

## Description
Implement a live preview mode that renders the form as end-users will see it, using the FormRenderer component from WEB-004. This allows designers to test the form behavior, see conditional logic in action, and verify validation rules without leaving the designer.

## Acceptance Criteria
- [ ] Add preview mode toggle in designer header
- [ ] Implement preview panel using FormRenderer
- [ ] Support real-time updates as form is edited
- [ ] Add reset values button in preview mode
- [ ] Display preview in separate panel or full-screen mode

## Technical Notes
- Use FormRenderer component from WEB-004 directly
- Preview should update immediately when schema changes
- Support both side-by-side and full-screen preview
- Preview values should be independent of design mode

## Implementation Approach
```typescript
const FormPreview = ({ schema, visible }: { schema: FormSchema; visible: boolean }) => {
  const [previewValues, setPreviewValues] = useState<Record<string, any>>({});

  if (!visible) return null;

  return (
    <div className="form-preview">
      <div className="preview-header">
        <h3>Form Preview</h3>
        <Button
          variant="outline"
          onClick={() => setPreviewValues({})}
        >
          Reset Values
        </Button>
      </div>

      <div className="preview-content">
        <FormRenderer
          schema={schema}
          initialValues={previewValues}
          onSubmit={async (values) => {
            console.log('Preview submission:', values);
            // Don't actually submit, just log
          }}
          onChange={(values) => setPreviewValues(values)}
          mode="preview"
        />
      </div>
    </div>
  );
};
```

## Dependencies
- WEB-005-1: Form Designer Foundation (mode toggle)
- WEB-004: Dynamic Form Renderer Engine (preview rendering)
- WEB-005-5: Conditional Logic Editor (to test conditions)

## Follows After
- WEB-005-1: Form Designer Foundation
- WEB-005-5: Conditional Logic Editor (optional, enhances preview)

## Enables
- Complete form design workflow
- Visual testing of form behavior

## Testing Strategy
- Unit tests for preview component
- Test real-time schema updates reflect in preview
- Verify conditional logic works in preview
- Test validation rules display correctly
- Verify reset functionality

## Success Metrics
- Preview renders form correctly using FormRenderer
- Schema changes update preview immediately
- Conditional logic works in preview mode
- Validation rules function properly
- Reset clears preview values

## Branch Naming
`feat/WEB-005-6-form-preview-mode`