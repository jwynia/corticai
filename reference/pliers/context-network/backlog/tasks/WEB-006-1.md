# WEB-006-1: Dashboard Layout Foundation

## Metadata
- **Status:** ready
- **Type:** feature
- **Epic:** web-dashboard
- **Priority:** medium
- **Size:** medium
- **Estimated Effort:** 3-5 days
- **Created:** 2025-09-30
- **Parent Task:** WEB-006 (archived - oversized)
- **Branch:** feat/WEB-006-1-dashboard-layout-foundation

## Description
Implement the foundational dashboard layout system using React Grid Layout, including dashboard CRUD operations, header navigation, and the basic grid structure for widget placement. This provides the infrastructure for all widget functionality.

## Acceptance Criteria
- [ ] Integrate React Grid Layout library
- [ ] Implement dashboard CRUD (create, read, update, delete)
- [ ] Create dashboard header with title and controls
- [ ] Build responsive grid layout with breakpoints
- [ ] Add edit mode toggle for dashboard

## Technical Notes
- Use react-grid-layout for grid system
- Store dashboard configurations via API (WEB-003)
- Support responsive breakpoints (lg, md, sm, xs)
- Grid should support drag-and-drop and resize in edit mode

## Implementation Approach
```typescript
import { Responsive, WidthProvider } from 'react-grid-layout';

const ResponsiveGridLayout = WidthProvider(Responsive);

interface Dashboard {
  id: string;
  name: string;
  description?: string;
  layout: DashboardLayout;
  widgets: Widget[];
  isDefault?: boolean;
}

const DashboardLayout = ({ dashboard, isEditMode }: { dashboard: Dashboard; isEditMode: boolean }) => {
  const [layouts, setLayouts] = useState(generateLayouts(dashboard.widgets));

  const handleLayoutChange = (newLayout: Layout[], allLayouts: Layouts) => {
    setLayouts(allLayouts);
    saveDashboardLayout(dashboard.id, allLayouts);
  };

  return (
    <div className="dashboard-container">
      <DashboardHeader
        dashboard={dashboard}
        isEditMode={isEditMode}
        onToggleEdit={() => setEditMode(!isEditMode)}
      />

      <ResponsiveGridLayout
        className="dashboard-grid"
        layouts={layouts}
        onLayoutChange={handleLayoutChange}
        isDraggable={isEditMode}
        isResizable={isEditMode}
        breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480 }}
        cols={{ lg: 12, md: 10, sm: 6, xs: 4 }}
        rowHeight={60}
        margin={[16, 16]}
      >
        {dashboard.widgets.map(widget => (
          <div key={widget.id}>Widget {widget.id} (WEB-006-2)</div>
        ))}
      </ResponsiveGridLayout>
    </div>
  );
};
```

## Dependencies
- WEB-003: API Client Integration (dashboard API)
- WEB-002: Design System (header, controls)

## Follows After
- None (foundation task)

## Enables
- WEB-006-2: Widget Framework and Wrapper
- All other WEB-006 subtasks

## Testing Strategy
- Unit tests for dashboard CRUD operations
- Test responsive layout on different breakpoints
- Verify drag-and-drop in edit mode
- Test layout persistence

## Success Metrics
- Dashboard grid renders correctly
- Edit mode enables drag-and-drop and resize
- Layout persists on page reload
- Responsive breakpoints work properly

## Branch Naming
`feat/WEB-006-1-dashboard-layout-foundation`