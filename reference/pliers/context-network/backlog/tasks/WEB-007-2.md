# WEB-007-2: Authentication Method Selector

## Metadata
- **Status:** ready
- **Type:** feature
- **Epic:** web-auth
- **Priority:** high
- **Size:** small
- **Estimated Effort:** 1-2 days
- **Created:** 2025-09-30
- **Parent Task:** WEB-007 (archived - oversized)
- **Branch:** feat/WEB-007-2-auth-method-selector

## Description
Build the authentication method selection interface that displays available authentication methods as cards and highlights the recommended method based on device capabilities. This is the entry point for the authentication flow.

## Acceptance Criteria
- [ ] Create method selector grid layout
- [ ] Implement method cards with icons and descriptions
- [ ] Highlight recommended method visually
- [ ] Add method selection handling
- [ ] Support responsive layout for mobile/desktop

## Technical Notes
- Use design system Card component
- Method info (icons, descriptions, features) should be centralized
- Visual recommendation badge for suggested method
- Cards should be clickable to trigger method flow

## Implementation Approach
```typescript
const AuthMethodSelector = ({
  availableMethods,
  recommendedMethod,
  onMethodSelect
}: {
  availableMethods: AuthMethod[];
  recommendedMethod: AuthMethod | null;
  onMethodSelect: (method: AuthMethod) => void;
}) => {
  return (
    <div className="auth-method-selector">
      <h2>Choose how to sign in</h2>

      <div className="method-grid">
        {availableMethods.map(method => (
          <AuthMethodCard
            key={method}
            method={method}
            isRecommended={method === recommendedMethod}
            onClick={() => onMethodSelect(method)}
          />
        ))}
      </div>

      {recommendedMethod && (
        <div className="recommendation">
          <Info size={16} />
          <span>
            We recommend {getMethodDisplayName(recommendedMethod)} for your device
          </span>
        </div>
      )}
    </div>
  );
};

const methodInfo = {
  passkey: {
    title: 'Passkey',
    description: 'Sign in with your fingerprint, face, or device PIN',
    icon: Fingerprint,
    features: ['Most secure', 'Fastest sign-in', 'No password needed']
  },
  'magic-link': {
    title: 'Email Link',
    description: 'Receive a secure link via email',
    icon: Mail,
    features: ['No password', 'Works everywhere', 'Check your inbox']
  },
  password: {
    title: 'Password',
    description: 'Sign in with email and password',
    icon: Key,
    features: ['Traditional method', 'Works offline', 'Familiar']
  }
};
```

## Dependencies
- WEB-007-1: Authentication Context and Device Detection
- WEB-002: Design System (Card, Badge components)

## Follows After
- WEB-007-1: Authentication Context and Device Detection

## Enables
- WEB-007-3: Passkey Authentication Flow
- WEB-007-4: Magic Link Authentication Flow
- WEB-007-5: Password Authentication Flow

## Testing Strategy
- Unit tests for method selector rendering
- Test recommendation highlighting
- Verify method selection triggers correct flow
- Test responsive layout

## Success Metrics
- Method cards display correctly
- Recommended method is highlighted
- Clicking method card triggers appropriate flow
- Layout adapts to screen size

## Branch Naming
`feat/WEB-007-2-auth-method-selector`