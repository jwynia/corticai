# WEB-006-5: Table and List Widgets

## Metadata
- **Status:** ready
- **Type:** feature
- **Epic:** web-dashboard
- **Priority:** medium
- **Size:** small
- **Estimated Effort:** 2-3 days
- **Created:** 2025-09-30
- **Parent Task:** WEB-006 (archived - oversized)
- **Branch:** feat/WEB-006-5-table-list-widgets

## Description
Implement table and list widgets for displaying tabular data and simple lists. Table widget includes sorting, filtering, and pagination. List widget provides a simple item list with optional icons and descriptions.

## Acceptance Criteria
- [ ] Implement TableWidget with sorting capability
- [ ] Add basic filtering for table columns
- [ ] Create ListWidget with item rendering
- [ ] Support custom column formatting
- [ ] Add pagination for large datasets

## Technical Notes
- Use design system Table component if available
- Sorting should work client-side for small datasets
- Filtering can be simple text match
- List items should support icons and secondary text

## Implementation Approach
```typescript
const TableWidget = ({ widget, data }: { widget: Widget; data: any }) => {
  const config = widget.config as TableConfig;
  const [sortColumn, setSortColumn] = useState<string | null>(null);
  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');

  const sortedData = useMemo(() => {
    if (!sortColumn) return data;
    return [...data].sort((a, b) => {
      const aVal = a[sortColumn];
      const bVal = b[sortColumn];
      const comparison = aVal < bVal ? -1 : aVal > bVal ? 1 : 0;
      return sortDirection === 'asc' ? comparison : -comparison;
    });
  }, [data, sortColumn, sortDirection]);

  return (
    <div className="table-widget">
      <table className="widget-table">
        <thead>
          <tr>
            {config.columns.map(column => (
              <th
                key={column.key}
                onClick={() => handleSort(column.key)}
                className="sortable"
              >
                {column.label}
                {sortColumn === column.key && <SortIcon direction={sortDirection} />}
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, index) => (
            <tr key={index}>
              {config.columns.map(column => (
                <td key={column.key}>
                  {formatCellValue(row[column.key], column.format)}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

const ListWidget = ({ widget, data }: { widget: Widget; data: any }) => {
  const config = widget.config as ListConfig;

  return (
    <div className="list-widget">
      {data.map((item: any, index: number) => (
        <div key={index} className="list-item">
          {config.showIcon && <Icon name={item.icon} />}
          <div className="list-item-content">
            <div className="list-item-title">{item[config.titleField]}</div>
            {config.showDescription && (
              <div className="list-item-description">{item[config.descriptionField]}</div>
            )}
          </div>
        </div>
      ))}
    </div>
  );
};
```

## Dependencies
- WEB-006-2: Widget Framework and Wrapper

## Follows After
- WEB-006-2: Widget Framework and Wrapper

## Enables
- Data display dashboard capabilities

## Testing Strategy
- Unit tests for table and list components
- Test sorting functionality
- Verify data formatting
- Test with empty datasets

## Success Metrics
- Tables display data correctly
- Sorting works on all columns
- Lists render items properly
- Formatting applies correctly

## Branch Naming
`feat/WEB-006-5-table-list-widgets`